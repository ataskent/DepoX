<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:DepoX.ViewModels"
             x:Class="DepoX.Views.CountPage"
             Title="ðŸ“¦ Depo SayÄ±m"
             BackgroundColor="#F0F2F5">

    <ContentPage.BindingContext>
        <viewmodels:CountViewModel/>
    </ContentPage.BindingContext>

    <Grid RowDefinitions="Auto,*,Auto" Padding="0">

        <!-- Barkod GiriÅŸi -->
        <Entry x:Name="BarcodeEntry"
               Placeholder="Barkod okut"
               Completed="OnBarcodeEntered"
               BackgroundColor="#E6E9ED"
               TextColor="Black"
               Margin="5"
               Grid.Row="0"/>

        <!-- Liste + Scroll -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="0">

                <!-- Tablo BaÅŸlÄ±klarÄ± -->
                <Grid ColumnDefinitions="2*,1*,1*,1*" RowDefinitions="40"
                      BackgroundColor="#D0D7E5" Padding="0" ColumnSpacing="0" RowSpacing="0">
                    <Label Text="Barkod" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Miktar" Grid.Column="1" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Renk" Grid.Column="2" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Kalite" Grid.Column="3" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                </Grid>

                <!-- Liste -->
                <CollectionView x:Name="ItemList"
                                ItemsSource="{Binding CountItems}"
                                ItemsLayout="VerticalList"
                                Margin="0"
                                BackgroundColor="White">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <!-- SwipeView ile satÄ±r iÅŸlemleri -->
                            <SwipeView>
                                <SwipeView.RightItems>
                                    <SwipeItems Mode="Reveal">
                                        <SwipeItem Text="Yeni" BackgroundColor="LightGreen"
                                                   Invoked="OnAddItemInvoked" />
                                        <SwipeItem Text="DÃ¼zelt" BackgroundColor="LightBlue"
                                                   Invoked="OnEditItemInvoked"
                                                   CommandParameter="{Binding .}" />
                                    </SwipeItems>
                                </SwipeView.RightItems>
                                <SwipeView.LeftItems>
                                    <SwipeItems Mode="Reveal">
                                        <SwipeItem Text="Sil" BackgroundColor="LightCoral"
                                                   Invoked="OnDeleteItemInvoked"
                                                   CommandParameter="{Binding .}" />
                                    </SwipeItems>
                                </SwipeView.LeftItems>

                                <!-- SatÄ±r iÃ§eriÄŸi -->
                                <Grid ColumnDefinitions="2*,1*,1*,1*" RowDefinitions="40"
                                      Padding="0" Margin="0"
                                      ColumnSpacing="0" RowSpacing="0"
                                      BackgroundColor="#FFFFFF">
                                    <Label Text="{Binding Barcode}" Grid.Column="0"
                                           VerticalOptions="Center" HorizontalOptions="Start"
                                           TextColor="#333" Margin="5"/>
                                    <Label Text="{Binding Quantity}" Grid.Column="1"
                                           VerticalOptions="Center" HorizontalOptions="End"
                                           TextColor="#333" Margin="5"/>
                                    <Label Text="{Binding Color}" Grid.Column="2"
                                           VerticalOptions="Center" HorizontalOptions="Start"
                                           TextColor="#333" Margin="5"/>
                                    <Label Text="{Binding Quality}" Grid.Column="3"
                                           VerticalOptions="Center" HorizontalOptions="Start"
                                           TextColor="#333" Margin="5"/>
                                </Grid>
                            </SwipeView>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

            </VerticalStackLayout>
        </ScrollView>

        <!-- Kaydet Butonu -->
        <Button Text="Kaydet"
                Clicked="OnSaveClicked"
                BackgroundColor="#4A6FA5"
                TextColor="White"
                CornerRadius="5"
                Margin="5"
                Grid.Row="2"/>
    </Grid>
</ContentPage>
    <!--<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:DepoX.ViewModels"
             x:Class="DepoX.Views.CountPage"
             Title="ðŸ“¦ Depo SayÄ±m"
             BackgroundColor="#F0F2F5">

    <ContentPage.BindingContext>
        <viewmodels:CountViewModel/>
    </ContentPage.BindingContext>

    <Grid RowDefinitions="Auto,Auto,*,Auto" Padding="0">

        --><!-- Barkod GiriÅŸi --><!--
        <Entry x:Name="BarcodeEntry"
               Placeholder="Barkod okut"
               Completed="OnBarcodeEntered"
               BackgroundColor="#E6E9ED"
               TextColor="Black"
               Margin="5"
               Grid.Row="0"/>

        --><!-- Ãœst MenÃ¼ --><!--
        <HorizontalStackLayout Grid.Row="1" Spacing="10" Padding="5">
            <Button Text="âž• Yeni" Clicked="OnAddNewClicked"
                    BackgroundColor="#4A6FA5" TextColor="White"/>
            <Button Text="âœï¸ DÃ¼zelt" Clicked="OnEditClicked"
                    BackgroundColor="#4A6FA5" TextColor="White"/>
        </HorizontalStackLayout>

        --><!-- Liste + Scroll --><!--
        <ScrollView Grid.Row="2">
            <VerticalStackLayout Spacing="0">

                --><!-- Tablo BaÅŸlÄ±klarÄ± --><!--
                <Grid ColumnDefinitions="2*,1*,1*,1*,Auto" RowDefinitions="40"
                      BackgroundColor="#D0D7E5" Padding="0" ColumnSpacing="0" RowSpacing="0">
                    <Label Text="Barkod" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Miktar" Grid.Column="1" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Renk" Grid.Column="2" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Kalite" Grid.Column="3" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Start" Margin="5"/>
                    <Label Text="Sil" Grid.Column="4" FontAttributes="Bold" TextColor="Black"
                           FontSize="14" VerticalOptions="Center" HorizontalOptions="Center" Margin="5"/>
                </Grid>

                --><!-- Liste --><!--
                <CollectionView x:Name="ItemList"
                                ItemsSource="{Binding CountItems}"
                                ItemsLayout="VerticalList"
                                Margin="0"
                                BackgroundColor="White">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="2*,1*,1*,1*,Auto" RowDefinitions="40"
                                  Padding="0" Margin="0"
                                  ColumnSpacing="0" RowSpacing="0"
                                  BackgroundColor="#FFFFFF">

                                --><!-- Barkod --><!--
                                <Label Text="{Binding Barcode}" Grid.Column="0"
                                       VerticalOptions="Center" HorizontalOptions="Start"
                                       TextColor="#333" Margin="5"/>

                                --><!-- Miktar --><!--
                                <ContentView Grid.Column="1">
                                    <ContentView.Triggers>
                                        <DataTrigger TargetType="ContentView"
                                                     Binding="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.IsEditing}"
                                                     Value="True">
                                            <Setter Property="Content">
                                                <Setter.Value>
                                                    <Entry Text="{Binding Quantity}" Keyboard="Numeric"
                                                           VerticalOptions="Center" HorizontalOptions="Fill"
                                                           BackgroundColor="#FFFFFF" TextColor="Black" Margin="5"/>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                    </ContentView.Triggers>
                                    <Label Text="{Binding Quantity}" VerticalOptions="Center" HorizontalOptions="End"
                                           TextColor="#333" Margin="5"/>
                                </ContentView>

                                --><!-- Renk --><!--
                                <ContentView Grid.Column="2">
                                    <ContentView.Triggers>
                                        <DataTrigger TargetType="ContentView"
                                                     Binding="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.IsEditing}"
                                                     Value="True">
                                            <Setter Property="Content">
                                                <Setter.Value>
                                                    <Entry Text="{Binding Color}" VerticalOptions="Center" HorizontalOptions="Fill"
                                                           BackgroundColor="#FFFFFF" TextColor="Black" Margin="5"/>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                    </ContentView.Triggers>
                                    <Label Text="{Binding Color}" VerticalOptions="Center" HorizontalOptions="Start"
                                           TextColor="#333" Margin="5"/>
                                </ContentView>

                                --><!-- Kalite --><!--
                                <ContentView Grid.Column="3">
                                    <ContentView.Triggers>
                                        <DataTrigger TargetType="ContentView"
                                                     Binding="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.IsEditing}"
                                                     Value="True">
                                            <Setter Property="Content">
                                                <Setter.Value>
                                                    <Entry Text="{Binding Quality}" VerticalOptions="Center" HorizontalOptions="Fill"
                                                           BackgroundColor="#FFFFFF" TextColor="Black" Margin="5"/>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                    </ContentView.Triggers>
                                    <Label Text="{Binding Quality}" VerticalOptions="Center" HorizontalOptions="Start"
                                           TextColor="#333" Margin="5"/>
                                </ContentView>

                                --><!-- Sil Butonu --><!--
                                <Button Text="âŒ" Grid.Column="4"
                                        BackgroundColor="Transparent"
                                        TextColor="Red"
                                        Clicked="OnDeleteClicked"
                                        CommandParameter="{Binding .}"/>
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

            </VerticalStackLayout>
        </ScrollView>

        --><!-- Kaydet Butonu --><!--
        <Button Text="Kaydet"
                Clicked="OnSaveClicked"
                BackgroundColor="#4A6FA5"
                TextColor="White"
                CornerRadius="5"
                Margin="5"
                Grid.Row="3"/>
    </Grid>
</ContentPage>-->